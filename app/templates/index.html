{% extends 'base.html' %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/search.js') }}"></script>
<script>
</script>
{% endblock %}

{% block welcome_text %}

<div class="welcome-text">
  <div class="container text-center white-text">
    <div class="col-xs-8 col-xs-offset-2">
      <h1>Welcome to RAWG Playground</h1>
      {% if current_user.is_anonymous %}
      <h4><a href="{{ url_for('login') }}">Login</a> or <a href="{{ url_for('register') }}">Sign Up</a> to start creating your own collections 
      or use search bar below to search for games of your preference.</h4>
      {% else %}
      <h4><a href="{{ url_for('account') }}">Start creating your own game collections</a> or search for any game of your preference</h4>
      {% endif %}

	<div class="row search-bar">
		<div class="col-md-12">

      <form method="POST" action="{{ url_for('search') }}" id="index-search-form">
        <div class="input-group" id="adv-search">
            <div style="flex: auto;">
              {{ form.search(placeholder=form.search.label.text, class="form-control") }}
              {% if form.search.errors %}
              <ul class="errors">
                {% for error in form.search.errors %}
                <li>{{ error }}</li>
                {% endfor %}
              </ul>
              {% endif %}
            </div>

          <div class="input-group-btn">
            <div class="btn-group" role="group">
              <div class="dropdown dropdown-lg">
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span></button>
                  <div class="dropdown-menu dropdown-menu-right" role="menu">

                    <div class="form-group">{{ form.publishers.label }} {{ form.publishers(class="form-control custom-select") }}
                      {% if form.publishers.errors %}
                      <ul class="errors">
                        {% for error in form.publishers.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                      </ul>
                      {% endif %}
                    </div>

                    <div class="form-group">{{ form.genres.label }} {{ form.genres(class="form-control custom-select") }}
                      {% if form.genres.errors %}
                      <ul class="errors">
                        {% for error in form.genres.errors %}
                          <li>{{ error }}</li>
                        {% endfor %}
                      </ul>
                      {% endif %}
                    </div>

                    <div class="form-group">{{ form.order_by.label }} {{ form.order_by(class="form-control custom-select") }}
                      {% if form.order_by.errors %}
                      <ul class="errors">
                        {% for error in form.order_by.errors %}
                          <li>{{ error }}</li>
                        {% endfor %}
                      </ul>
                      {% endif %}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          

          <button class="btn button default">Search</button>
        </form>
      </div>
	  </div>
  </div>
    </div>
  </div>
</div>

{% endblock %}


{% block content %}

<div class="main-content">
<section id="posts" class="page-section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-xs-8 col-xs-offset-2 align-self-center">
        <h2>Explore your favorite games in one place</h2>
        <span class="underline"></span>
      </div>
    </div>

    <!-- <div class="row">
      <div class="col-md-3 col-sm-6">

        <div class="post-inside">
          <div class="post-thumb">
            <img src="" alt="">
           </div>
           <div class="post-content">
              <h5>Lorem Ipsum</h5>
              <p>Nullam bibendum lacus tellus, sit amet suscipit ligula laoreet vitae. Sed est neque, mollis vel tincidunt.</p>
            </div>
          </div>
        </div>

        <div class="post-inside">
          <div class="post-thumb">
            <img src="" alt="">
           </div>
           <div class="post-content">
              <h5>Lorem Ipsum</h5>
              <p>Nullam bibendum lacus tellus, sit amet suscipit ligula laoreet vitae. Sed est neque, mollis vel tincidunt.</p>
            </div>
          </div>
        </div>

        <div class="post-inside">
          <div class="post-thumb">
            <img src="" alt="">
           </div>
           <div class="post-content">
              <h5>Lorem Ipsum</h5>
              <p>Nullam bibendum lacus tellus, sit amet suscipit ligula laoreet vitae. Sed est neque, mollis vel tincidunt.</p>
            </div>
          </div>
        </div>

        <div class="post-inside">
          <div class="post-thumb">
            <img src="" alt="">
           </div>
           <div class="post-content">
              <h5>Lorem Ipsum</h5>
              <p>Nullam bibendum lacus tellus, sit amet suscipit ligula laoreet vitae. Sed est neque, mollis vel tincidunt.</p>
            </div>
          </div>
        </div>
      </div> 
    </div> -->

  </div>
</section>

<div class="games-container">
  <div class="container">
    <div class="inside light page-section text-center">
      <div class="row">
        <div class="owl-carousel">
          {% for game in games %}
          <a href="{{ url_for('game_details', game_id=game.id) }}">
            <div class="card text-center">
              <img class="card-img-top" src="{{ game.background_image }}" alt="Card image cap">
              <div class="card-body">
                <h5 class="card-title">{{ game.name }}</h5>
              </div>
            </div>
          </a>
          {% endfor %}
                    
        </div>
      </div>
    </div>
  </div>
</div>
</div>
{% endblock %}