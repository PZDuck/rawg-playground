{% extends 'base.html' %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/search.js') }}"></script>
{% endblock %}

{% block content %}

<div class="jumbotron jumbotron-fluid">
	<div class="row search-bar">
		<div class="col-md-12">
      <form method="POST" id="search-form">
        <div class="input-group" id="adv-search">
            <div style="flex: auto;">
              {{ form.search(placeholder=form.search.label.text, class="form-control") }}
              {% if form.search.errors %}
              <ul class="errors">
                {% for error in form.search.errors %}
                <li>{{ error }}</li>
                {% endfor %}
              </ul>
              {% endif %}
            </div>


              <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#searchCollapse" aria-expanded="false" aria-controls="searchCollapse" style="border-radius: 0;"><div class="fa fa-caret-down"></div></button>

                <div class="collapse" id="searchCollapse" role="menu" style="width: 100%;">

                    <div class="form-group">{{ form.publishers.label }} {{ form.publishers(class="form-control custom-select") }}
                      {% if form.publishers.errors %}
                      <ul class="errors">
                        {% for error in form.publishers.errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                      </ul>
                      {% endif %}
                    </div>

                    <div class="form-group">{{ form.genres.label }} {{ form.genres(class="form-control custom-select") }}
                      {% if form.genres.errors %}
                      <ul class="errors">
                        {% for error in form.genres.errors %}
                          <li>{{ error }}</li>
                        {% endfor %}
                      </ul>
                      {% endif %}
                    </div>

                    <div class="form-group">{{ form.order_by.label }} {{ form.order_by(class="form-control custom-select") }}
                      {% if form.order_by.errors %}
                      <ul class="errors">
                        {% for error in form.order_by.errors %}
                          <li>{{ error }}</li>
                        {% endfor %}
                      </ul>
                      {% endif %}
                    </div>
                  </div>
                </div>
              <button class="btn btn-primary">Search</button>
        </form>
      </div>
	  </div>
  </div>
</div>




<div class="games container"></div>
<div class="next-prev text-center"></div>

<script>
let args = {{ args|safe }}
for ([key, value] of Object.entries(args)) {
  key.replace(/&#39;/g,"'")
  value.replace(/&#39;/g,"'")
}
</script>

{% endblock %}